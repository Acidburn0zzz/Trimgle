!function(e){"use strict";if(!e)throw new Error("jQuery required");e(".icon.alarm").on("click",function(){var t=e.Trimgle.settings();if(!t)return alert(chrome.i18n.getMessage("problem_inact")),!1;var o=!e(".icon.alarm").hasClass("mute");t.notification=!o,e.Trimgle.settings(t,function(){_loadSettings(t)},function(){alert(chrome.i18n.getMessage("problem_inact"))})}),e(".logo img, #home i.icon.options, #home h2.title").on("click",function(t){_changePage("#about",function(){e("#popup").attr("cxx","about")}),t.stopPropagation()}),e("a.home").on("click",function(e){_autoPosition(),e.stopPropagation()}),e(".ping.webhook").on("click",function(t){_changePage("#webhook",function(){e("#popup").attr("cxx","webhook")}),t.stopPropagation()}),e("a.section.edit").on("click",function(t){_changePage("#page-edit",function(){e("#popup").attr("cxx","page-edit"),setTimeout(function(){e("#page-edit-title").first().focus()},100)}),t.stopPropagation()}),e(".ui.radio.checkbox").checkbox(),e("#page-edit .saving .saving.updates").on("click",function(t){var o=e(this),n=function(t){"undefined"==typeof t&&(t=function(){}),setTimeout(function(){e(".saving .loader.updates").hide(),o.show(),t()},1e3)},i=function(){o.hide(),e(".saving .loader.updates").show()};i();var r=e("#page-edit").attr("trimgle-item")||"";r&&""!=r?e.Trimgle.getItem(r,function(t){if(!t||t.length<1)return alert(chrome.i18n.getMessage("problem_inact")+" ( 2 )"),n(),!1;var o=t[0];o.title=e("#page-edit-title").val().trim(),o.description=e("#page-edit-desc").val().trim(),o.interval=e("input[name='time-check']:checked").val();var i=e("#page-edit-webhook").val();i&&""==i.trim()?o.pinglist=[]:(i=i.trim(),o.pinglist=i.split("\r\n")||[]),e.Trimgle.updateItem(o,function(){n(function(){document.location.reload()})},function(){n(),alert(chrome.i18n.getMessage("problem_inact")+" ( 3 )")})},function(e){n(),alert(chrome.i18n.getMessage("problem_inact")+" ( 4 ) "+e)}):(n(),alert(chrome.i18n.getMessage("problem_inact")+" ( 1 )")),t.stopPropagation()}),e("#explore i.refresh").on("click",function(t){var o=e(this),n=function(e){"undefined"==typeof e&&(e=function(){}),setTimeout(function(){o.removeClass("loading"),e()},1e3)},i=function(){o.addClass("loading")};i();var r=e("#explore").attr("trimgle-item")||"";r&&""!=r?e.Trimgle.getItem(r,function(t){if(!t||t.length<1)return alert(chrome.i18n.getMessage("problem_inact")+" ( 2 )"),n(),!1;var o=t[0];e.Trimgle.updateResults(o,function(t){e("#bullet-list").html(""),e.each(t.newest,function(t,o){var n=""!=o.link&&""!=o.title?"<a x-href='"+o.link+"' x-exposure='0'>"+o.title+"</a>":""!=o.text?o.text:"";""!=n&&e("#bullet-list").append("<div class='item'>"+n+"</div>")}),e("#bullet-list .item a[x-exposure]").not(".exposed").on("click",function(t){return chrome.tabs.create({url:e(this).attr("x-href")+"",active:!1}),t.stopPropagation(),!1}).addClass("exposed"),_cursorToExplore(),n()},function(){_goReview(),n()})},function(e){_toNormalEdit(),alert(chrome.i18n.getMessage("problem_inact")+" ( 4 ) "+e)}):(n(),alert(chrome.i18n.getMessage("problem_inact")+" ( 1 )")),t.stopPropagation()}),e("#about-anon-info").on("click",function(t){var o=e.Trimgle.settings();return o?(o.sendAnonInfo=e(this).is(":checked"),e.Trimgle.settings(o,function(){_loadSettings(o)},function(){alert(chrome.i18n.getMessage("problem_inact"))}),void t.stopPropagation()):(alert(chrome.i18n.getMessage("problem_inact")),!1)}),e("#toreview .icon.remove").on("click",function(t){var o=e(this),n=function(){_autoPosition(),e("#toreview .row.container").html(""),e("#toreview .loader").hide(),o.show()};o.hide(),e("#toreview .loader").show(),e.Trimgle.resetReview(function(){setTimeout(n,1e3)},function(){setTimeout(function(){n(),alert(chrome.i18n.getMessage("problem_inact"))},1e3)}),t.stopPropagation()}),e("#towatch .icon.remove").on("click",function(t){var o=e(this),n=function(){e("#towatch .row.container").html(""),e("#towatch .loader").hide(),_autoPosition(),o.show()};o.hide(),e("#towatch .loader").show(),e.Trimgle.resetWatch(function(){setTimeout(n,1e3)},function(){setTimeout(function(){n(),alert(chrome.i18n.getMessage("problem_inact"))},1e3)}),t.stopPropagation()}),e.Trimgle.onReviewChange(function(e,t){chrome.browserAction.setIcon(t.length>0?{path:"img/icon.error.32.png"}:{path:"img/icon.32.png"})}),e.Trimgle.onWatchChange(function(e,t){chrome.browserAction.setBadgeText({text:t.length>0?t.length+"":""})}),_loadSettings(),_autoPosition()}(window.jQuery);
//# sourceMappingURL=popup.min.js.map