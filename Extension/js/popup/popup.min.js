!function(e){"use strict";if(!e)throw new Error("jQuery required");e(".icon.alarm").on("click",function(){var t=e.Trimgle.settings();if(!t)return alert(chrome.i18n.getMessage("problem_inact")),!1;var n=!e(".icon.alarm").hasClass("mute");t.notification=!n,e.Trimgle.settings(t,function(){_loadSettings(t)},function(){alert(chrome.i18n.getMessage("problem_inact"))})}),e(".logo img, #home i.icon.options, #home h2.title").on("click",function(t){_changePage("#about",function(){e("#popup").attr("cxx","about")}),t.stopPropagation()}),e("a.home").on("click",function(e){_autoPosition(),e.stopPropagation()}),e(".ping.webhook").on("click",function(t){_changePage("#webhook",function(){e("#popup").attr("cxx","webhook")}),t.stopPropagation()}),e("a.section.edit").on("click",function(t){_changePage("#page-edit",function(){e("#popup").attr("cxx","page-edit"),setTimeout(function(){e("#page-edit-title").first().focus()},100)}),t.stopPropagation()}),e(".ui.radio.checkbox").checkbox(),e("#page-edit .saving .saving.updates").on("click",function(t){var n=e(this),i=function(t){"undefined"==typeof t&&(t=function(){}),setTimeout(function(){e(".saving .loader.updates").hide(),n.show(),t()},1e3)},o=function(){n.hide(),e(".saving .loader.updates").show()};o();var r=e("#page-edit").attr("trimgle-item")||"";r&&""!=r?e.Trimgle.getItem(r,function(t){if(!t||t.length<1)return alert(chrome.i18n.getMessage("problem_inact")+" ( 2 )"),i(),!1;var n=t[0];n.title=e("#page-edit-title").val().trim(),n.description=e("#page-edit-desc").val().trim(),n.interval=e("input[name='time-check']:checked").val();var o=e("#page-edit-webhook").val();o&&""==o.trim()?n.pinglist=[]:(o=o.trim(),n.pinglist=o.split("\r\n")||[]),e.Trimgle.updateItem(n,function(){i(function(){document.location.reload()})},function(){i(),alert(chrome.i18n.getMessage("problem_inact")+" ( 3 )")})},function(e){i(),alert(chrome.i18n.getMessage("problem_inact")+" ( 4 ) "+e)}):(i(),alert(chrome.i18n.getMessage("problem_inact")+" ( 1 )")),t.stopPropagation()}),e("#explore i.refresh").on("click",function(t){var n=e(this),i=function(e){"undefined"==typeof e&&(e=function(){}),setTimeout(function(){n.removeClass("loading"),e()},1e3)},o=function(){n.addClass("loading")};o();var r=e("#explore").attr("trimgle-item")||"";r&&""!=r?e.Trimgle.getItem(r,function(t){if(!t||t.length<1)return alert(chrome.i18n.getMessage("problem_inact")+" ( 2 )"),i(),!1;var n=t[0];e.Trimgle.updateResults(n,function(t){e("#bullet-list").html(""),e.each(t.newest,function(t,n){var i=""!=n.link&&""!=n.title?"<a href='"+n.link+"' target='_blank'>"+n.title+"</a>":""!=n.text?n.text:"";""!=i&&e("#bullet-list").append("<div class='item'>"+i+"</div>")}),_cursorToExplore(),i()},function(){_goReview(),i()})},function(e){_toNormalEdit(),alert(chrome.i18n.getMessage("problem_inact")+" ( 4 ) "+e)}):(i(),alert(chrome.i18n.getMessage("problem_inact")+" ( 1 )")),t.stopPropagation()}),e("#about-anon-info").on("click",function(t){var n=e.Trimgle.settings();return n?(n.sendAnonInfo=e(this).is(":checked"),e.Trimgle.settings(n,function(){_loadSettings(n)},function(){alert(chrome.i18n.getMessage("problem_inact"))}),void t.stopPropagation()):(alert(chrome.i18n.getMessage("problem_inact")),!1)}),e("#toreview .icon.remove").on("click",function(t){var n=e(this),i=function(){_autoPosition(),e("#toreview .row.container").html(""),e("#toreview .loader").hide(),n.show()};n.hide(),e("#toreview .loader").show(),e.Trimgle.resetReview(function(){setTimeout(i,1e3)},function(){setTimeout(function(){i(),alert(chrome.i18n.getMessage("problem_inact"))},1e3)}),t.stopPropagation()}),e("#towatch .icon.remove").on("click",function(t){var n=e(this),i=function(){e("#towatch .row.container").html(""),e("#towatch .loader").hide(),_autoPosition(),n.show()};n.hide(),e("#towatch .loader").show(),e.Trimgle.resetWatch(function(){setTimeout(i,1e3)},function(){setTimeout(function(){i(),alert(chrome.i18n.getMessage("problem_inact"))},1e3)}),t.stopPropagation()}),e.Trimgle.onReviewChange(function(e,t){chrome.browserAction.setIcon(t.length>0?{path:"img/icon.error.32.png"}:{path:"img/icon.32.png"})}),e.Trimgle.onWatchChange(function(e,t){chrome.browserAction.setBadgeText({text:t.length>0?t.length+"":""})}),_loadSettings(),_autoPosition()}(window.jQuery);
//# sourceMappingURL=popup.min.js.map